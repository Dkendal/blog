<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Capture the output of a Vim command - Digital Janitorial Services</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Vim ships with an internal pager named &ldquo;more&rdquo; for displaying command output that is used when the entire screen would be filled. Despite it&rsquo;s name, more, it is not the command line utility that you might be familiar with, and because it&rsquo;s a builtin feature vim cannot be configured to use an alternative (like less).
Much like it&rsquo;s namesake, the internal more pager leaves a lot to be desired, like any ability to search the output."><meta property="og:image" content><meta property="og:title" content="Capture the output of a Vim command"><meta property="og:description" content="Vim ships with an internal pager named &ldquo;more&rdquo; for displaying command output that is used when the entire screen would be filled. Despite it&rsquo;s name, more, it is not the command line utility that you might be familiar with, and because it&rsquo;s a builtin feature vim cannot be configured to use an alternative (like less).
Much like it&rsquo;s namesake, the internal more pager leaves a lot to be desired, like any ability to search the output."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.dkendal.com/pages/capture-the-output-of-vim-command/"><meta property="article:section" content="pages"><meta property="article:published_time" content="2020-06-24T22:54:00+00:00"><meta property="article:modified_time" content="2022-07-25T16:16:31+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Capture the output of a Vim command"><meta name=twitter:description content="Vim ships with an internal pager named &ldquo;more&rdquo; for displaying command output that is used when the entire screen would be filled. Despite it&rsquo;s name, more, it is not the command line utility that you might be familiar with, and because it&rsquo;s a builtin feature vim cannot be configured to use an alternative (like less).
Much like it&rsquo;s namesake, the internal more pager leaves a lot to be desired, like any ability to search the output."><script src=https://blog.dkendal.com/js/feather.min.js></script>
<link href=https://blog.dkendal.com/css/fonts.b685ac6f654695232de7b82a9143a46f9e049c8e3af3a21d9737b01f4be211d1.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://blog.dkendal.com/css/main.40ca3a860425083862b7ebd55447caec5c4384573f0cb098b8d06a91e8dace2e.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://blog.dkendal.com/css/dark.726cd11ca6eb7c4f7d48eb420354f814e5c1b94281aaf8fd0511c1319f7f78a4.css disabled><script async src="https://www.googletagmanager.com/gtag/js?id=G-QRNY1HKHWT"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QRNY1HKHWT",{anonymize_ip:!1})}</script></head><body><div class=content><header><div class=main><a href=https://blog.dkendal.com/>Digital Janitorial Services</a></div><nav><a href=/>Home</a>
| <a id=dark-mode-toggle onclick=toggleTheme() href></a>
<script src=https://blog.dkendal.com/js/themetoggle.js></script></nav></header><main><article><div class=title><h1 class=title>Capture the output of a Vim command</h1><div class=meta>Posted on Jun 24, 2020</div></div><section class=body><p>Vim ships with an internal pager named &ldquo;more&rdquo; for displaying
command output that is used when the entire screen would be filled.
Despite it&rsquo;s name, <em>more</em>, it is <strong>not</strong> the command line utility
that you might be familiar with, and because it&rsquo;s a builtin feature vim cannot be configured
to use an alternative (like <em>less</em>).</p><p>Much like it&rsquo;s namesake, the internal <em>more</em> pager leaves a lot to
be desired, like any ability to search the output. Fortunately, you can
capture the output of any vim expression and display however you want.</p><p>Vim provides three means of capturing <em>messages</em>: <code>:redir</code>,
<code>execute()</code> and <code>:set verbosefile</code>. We will be focusing on
<code>execute()</code> for our purposes. <code>:redir</code> can be useful if you just
want to quickly redirect output to a variable, file, register, or
some other source but you generally will rely on <code>execute()</code> while
scripting.</p><p>General usage is <code>execute({expr})</code>, or <code>execute([{expr}, {expr}])</code>
for multiple commands. Notice below how the entire output is
concatenated into a single string.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vimrc data-lang=vimrc><span style=display:flex><span>:<span style=color:#a6e22e>execute</span>(<span style=color:#e6db74>&#39;echon &#34;foo&#34;&#39;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#e6db74>&#39;foo&#39;</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>:<span style=color:#a6e22e>execute</span>([<span style=color:#e6db74>&#39;echon &#34;foo&#34;&#39;</span>, <span style=color:#e6db74>&#39;echon &#34;bar&#34;&#39;</span>])<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#e6db74>&#39;foobar&#39;</span></span></span></code></pre></div><p>Now that we have the output as a string we can write a
function that creates a temporary buffer with the output and opens
a window in the bottom of the current tabpage.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vimrc data-lang=vimrc><span style=display:flex><span><span style=color:#66d9ef>function</span>! <span style=color:#a6e22e>s</span>:<span style=color:#a6e22e>split</span>(<span style=color:#a6e22e>expr</span>) <span style=color:#a6e22e>abort</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>lines</span> = <span style=color:#a6e22e>split</span>(<span style=color:#a6e22e>execute</span>(<span style=color:#a6e22e>a</span>:<span style=color:#a6e22e>expr</span>, <span style=color:#e6db74>&#39;silent&#39;</span>), <span style=color:#e6db74>&#34;[\n\r]&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>name</span> = <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#39;capture://%s&#39;</span>, <span style=color:#a6e22e>a</span>:<span style=color:#a6e22e>expr</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>bufexists</span>(<span style=color:#a6e22e>name</span>) == <span style=color:#a6e22e>v</span>:<span style=color:#a6e22e>true</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>execute</span> <span style=color:#e6db74>&#39;bwipeout&#39;</span> <span style=color:#a6e22e>bufnr</span>(<span style=color:#a6e22e>name</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>endif</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>execute</span> <span style=color:#e6db74>&#39;botright&#39;</span> <span style=color:#e6db74>&#39;new&#39;</span> <span style=color:#a6e22e>name</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>setlocal</span> <span style=color:#a6e22e>buftype</span>=<span style=color:#a6e22e>nofile</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>setlocal</span> <span style=color:#a6e22e>bufhidden</span>=<span style=color:#a6e22e>hide</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>setlocal</span> <span style=color:#a6e22e>noswapfile</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>setlocal</span> <span style=color:#a6e22e>filetype</span>=<span style=color:#a6e22e>vim</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>call</span> <span style=color:#a6e22e>append</span>(<span style=color:#a6e22e>line</span>(<span style=color:#e6db74>&#39;$&#39;</span>), <span style=color:#a6e22e>lines</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>endfunction</span></span></span></code></pre></div><p>Which when called will produce the output below (command <code>:P</code> is
defined later). The show capturing the output of
<code>:command</code> to get a listing of all user defined commands.</p><figure><img src=/ox-hugo/2020-06-25_01-20-12_screenshot.png></figure><p>Or, if you use fzf-vim and you want to search the output you could use it like the below function.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vimrc data-lang=vimrc><span style=display:flex><span><span style=color:#66d9ef>function</span>! <span style=color:#a6e22e>s</span>:<span style=color:#a6e22e>fzf</span>(<span style=color:#a6e22e>expr</span>) <span style=color:#a6e22e>abort</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>lines</span> = <span style=color:#a6e22e>split</span>(<span style=color:#a6e22e>execute</span>(<span style=color:#a6e22e>a</span>:<span style=color:#a6e22e>expr</span>, <span style=color:#e6db74>&#39;silent&#39;</span>), <span style=color:#e6db74>&#34;[\n\r]&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>return</span> <span style=color:#a6e22e>fzf</span>#<span style=color:#a6e22e>run</span>({<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>\  <span style=color:#e6db74>&#39;source&#39;</span>: <span style=color:#a6e22e>lines</span>,<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>\  <span style=color:#e6db74>&#39;options&#39;</span>: <span style=color:#e6db74>&#39;--tiebreak begin --ansi --header-lines 1&#39;</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>\})<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>endfunction</span></span></span></code></pre></div><p>And as a example usage we could execute <code>:P! function</code> to search for all projectionist.vim functions.</p><figure><img src=/ox-hugo/2020-06-25_01-23-19_screenshot.png></figure><p>Now we can tie it all together with a <em>command</em> that we easily use
from command mode, and function that will let us choose dumping to a
buffer or searching with fzf on demand.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vimrc data-lang=vimrc><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>s</span>:<span style=color:#a6e22e>capture</span>(<span style=color:#a6e22e>expr</span>, <span style=color:#a6e22e>bang</span>) <span style=color:#a6e22e>abort</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span>:<span style=color:#a6e22e>bang</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>call</span> <span style=color:#a6e22e>s</span>:<span style=color:#a6e22e>fzf</span>(<span style=color:#a6e22e>a</span>:<span style=color:#a6e22e>expr</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>else</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>call</span> <span style=color:#a6e22e>s</span>:<span style=color:#a6e22e>split</span>(<span style=color:#a6e22e>a</span>:<span style=color:#a6e22e>expr</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>endif</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>endfunction</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>command</span>! -<span style=color:#a6e22e>nargs</span>=<span style=color:#ae81ff>1</span> -<span style=color:#a6e22e>bang</span> -<span style=color:#a6e22e>complete</span>=<span style=color:#a6e22e>command</span> <span style=color:#a6e22e>P</span> <span style=color:#a6e22e>call</span> <span style=color:#a6e22e>s</span>:<span style=color:#a6e22e>capture</span>(&lt;<span style=color:#a6e22e>q</span>-<span style=color:#a6e22e>args</span>&gt;, &lt;<span style=color:#a6e22e>bang</span>&gt;<span style=color:#ae81ff>0</span>)</span></span></code></pre></div><p>Below is the script in its entirety:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vimrc data-lang=vimrc><span style=display:flex><span><span style=color:#66d9ef>function</span>! <span style=color:#a6e22e>s</span>:<span style=color:#a6e22e>split</span>(<span style=color:#a6e22e>expr</span>) <span style=color:#a6e22e>abort</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>lines</span> = <span style=color:#a6e22e>split</span>(<span style=color:#a6e22e>execute</span>(<span style=color:#a6e22e>a</span>:<span style=color:#a6e22e>expr</span>, <span style=color:#e6db74>&#39;silent&#39;</span>), <span style=color:#e6db74>&#34;[\n\r]&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>name</span> = <span style=color:#a6e22e>printf</span>(<span style=color:#e6db74>&#39;capture://%s&#39;</span>, <span style=color:#a6e22e>a</span>:<span style=color:#a6e22e>expr</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>bufexists</span>(<span style=color:#a6e22e>name</span>) == <span style=color:#a6e22e>v</span>:<span style=color:#a6e22e>true</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>execute</span> <span style=color:#e6db74>&#39;bwipeout&#39;</span> <span style=color:#a6e22e>bufnr</span>(<span style=color:#a6e22e>name</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>end</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>execute</span> <span style=color:#e6db74>&#39;botright&#39;</span> <span style=color:#e6db74>&#39;new&#39;</span> <span style=color:#a6e22e>name</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>setlocal</span> <span style=color:#a6e22e>buftype</span>=<span style=color:#a6e22e>nofile</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>setlocal</span> <span style=color:#a6e22e>bufhidden</span>=<span style=color:#a6e22e>hide</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>setlocal</span> <span style=color:#a6e22e>noswapfile</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>setlocal</span> <span style=color:#a6e22e>filetype</span>=<span style=color:#a6e22e>vim</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>call</span> <span style=color:#a6e22e>append</span>(<span style=color:#a6e22e>line</span>(<span style=color:#e6db74>&#39;$&#39;</span>), <span style=color:#a6e22e>lines</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>endfunction</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>function</span>! <span style=color:#a6e22e>s</span>:<span style=color:#a6e22e>fzf</span>(<span style=color:#a6e22e>expr</span>) <span style=color:#a6e22e>abort</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>lines</span> = <span style=color:#a6e22e>split</span>(<span style=color:#a6e22e>execute</span>(<span style=color:#a6e22e>a</span>:<span style=color:#a6e22e>expr</span>, <span style=color:#e6db74>&#39;silent&#39;</span>), <span style=color:#e6db74>&#34;[\n\r]&#34;</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>return</span> <span style=color:#a6e22e>fzf</span>#<span style=color:#a6e22e>run</span>({<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>\  <span style=color:#e6db74>&#39;source&#39;</span>: <span style=color:#a6e22e>lines</span>,<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>\  <span style=color:#e6db74>&#39;options&#39;</span>: <span style=color:#e6db74>&#39;--tiebreak begin --ansi --header-lines 1&#39;</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>\})<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>endfunction</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>s</span>:<span style=color:#a6e22e>capture</span>(<span style=color:#a6e22e>expr</span>, <span style=color:#a6e22e>bang</span>) <span style=color:#a6e22e>abort</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span>:<span style=color:#a6e22e>bang</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>call</span> <span style=color:#a6e22e>s</span>:<span style=color:#a6e22e>fzf</span>(<span style=color:#a6e22e>a</span>:<span style=color:#a6e22e>expr</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>else</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>call</span> <span style=color:#a6e22e>s</span>:<span style=color:#a6e22e>split</span>(<span style=color:#a6e22e>a</span>:<span style=color:#a6e22e>expr</span>)<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>endif</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>endfunction</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>command</span>! -<span style=color:#a6e22e>nargs</span>=<span style=color:#ae81ff>1</span> -<span style=color:#a6e22e>bang</span> -<span style=color:#a6e22e>complete</span>=<span style=color:#a6e22e>command</span> <span style=color:#a6e22e>P</span> <span style=color:#a6e22e>call</span> <span style=color:#a6e22e>s</span>:<span style=color:#a6e22e>capture</span>(&lt;<span style=color:#a6e22e>q</span>-<span style=color:#a6e22e>args</span>&gt;, &lt;<span style=color:#a6e22e>bang</span>&gt;<span style=color:#ae81ff>0</span>)</span></span></code></pre></div></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/vim>vim</a></li></ul></nav></div></article></main><footer><div style=display:flex><a class=soc href=https://www.linkedin.com/in/dylan-kendal-24027545/ title="Dylan's LinkedIn account"><i data-feather=linkedin></i></a><a class=soc href=https://github.com/Dkendal title="Dylan's GitHub account"><i data-feather=github></i></a></div><div class=footer-info>2022</div></footer><script>feather.replace()</script></div></body></html>